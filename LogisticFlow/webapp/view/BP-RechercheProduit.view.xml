<mvc:View xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core" controllerName="logistic-flow.controller.BP-RechercheProduit">

    <Page title="Recherche Produit avec préaffectations" showNavButton="true" navButtonPress="onNavBack" enableScrolling="false">
        <content>
            <Panel class="bpPanel">
                <VBox>
                    <!-- Include il fragment con un id per poterlo referenziare -->
                    <core:Fragment fragmentName="logistic-flow.fragment.IconTabBar" type="XML" id="iconTabBarFragment" />

                    <!-- Resto della view -->
                    <FlexBox direction="Row" justifyContent="SpaceBetween" alignItems="Center" class="sapUiSmallMarginBottom">
                        <RadioButtonGroup id="filterOption" select="onSelectionChange" columns="2">
                            <buttons>
                                <RadioButton text="Code" selected="true" />
                                <RadioButton text="Libellé" />
                            </buttons>
                        </RadioButtonGroup>
                        <Button text="Suivant" press="onAdvance" type="Emphasized" />
                    </FlexBox>

                    <Input id="bpSearchField" width="100%" placeholder="{BPData>/searchPlaceholder}" liveChange="onSearch" type="{BPData>/inputType}" />

                    <Table id="bpTable" items="{BPData>/BPRechercheData}" class="borderedTable scrollableTable sapUiSmallMarginTop">
                        <columns>
                            <Column width="3em" hAlign="Center">
                                <Text text="Pr" />
                            </Column>
                            <Column width="5em" hAlign="Center">
                                <Text text="Code" />
                            </Column>
                            <Column width="15em">
                                <Text text="Libellé" />
                            </Column>
                        </columns>
                        <items>
                            <ColumnListItem type="Active" press="onRowSelect" selectable="true">
                                <cells>
                                    <Label text="✔" visible="{BPData>pr}" class="sapUiAlignCenter" />
                                    <Text text="{BPData>MaterialCode}" class="sapUiAlignCenter" />
                                    <Text text="{BPData>MaterialDescription}" />
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>

                    <HBox class="buttonContainerWithGap" width="100%" justifyContent="Center" alignItems="Center">
                        <Button text="Annuler" type="Default" press="onCancel" class="bigButton annulerButton"/>
                        <Button text="Valider" type="Emphasized" press="onValidate" class="bigButton validerButton"/>
                    </HBox>
                </VBox>
            </Panel>
        </content>
    </Page>
</mvc:View>