<mvc:View controllerName="logistic-flow.controller.BP-Preparation"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core">

    <Page id="pageBPPreparation" title="DD - Préparation BP" class="bpPreparationPage" showNavButton="true" navButtonPress=".onNavBack">

        <content>
            <VBox class="tabContent">
                <core:Fragment fragmentName="logistic-flow.fragment.IconTabBar" type="XML"/>

                <HBox class="bpSearchContainer" justifyContent="Center">
                    <HBox class="inputPair">
                        <Label text="Dépôt:" class="boldLabel"/>
                        <Input id="depotInput" value="1" width="50px"/>
                    </HBox>
                    <HBox class="inputPair">
                        <Label text="BP:" class="boldLabel"/>
                        <Input id="bpInput" placeholder="Nombre" liveChange="onSearchBP" width="60px"/>
                    </HBox>
                </HBox>

                <!-- Bottoni in riga con SpaceAround -->
                <HBox class="bpButtons" justifyContent="SpaceAround">
                    <Button id="idBpAutoButton" text="BP AUTO" press="onToggleFilter" class="orderButton" />
                    <Button text="Liste complète" press="onTestF4Press" class="orderButton" />
                </HBox>

                <!-- Tabella dati -->
                <VBox class="tabContent">
                    <Table id="bpTable" mode="SingleSelectMaster" selectionChange="onBPSelected" class="scrollableTable" style="margin-right:10px;" items="{/BPData}">
                        <columns>
                            <!-- BP Number Column -->
                            <Column>
                                <header>
                                    <Text text="N° BP" wrapping="false"/>
                                </header>
                            </Column>
                            <Column>
                                <header>
                                    <Text text="Code client" wrapping="false"/>
                                </header>
                            </Column>
                            <Column>
                                <header>
                                    <Text text="Client" wrapping="true"/>
                                </header>
                            </Column>
                            <!-- Transporteur Columns -->
                            <Column>
                                <header>
                                    <Text text="Code transporteur" wrapping="false"/>
                                </header>
                            </Column>

                            <Column>
                                <header>
                                    <Text text="Transporteur" wrapping="true"/>
                                </header>
                            </Column>

                        </columns>

                        <items>
                            <ColumnListItem>
                                <cells>
                                    <Text text="{BPNumber}" wrapping="false"/>
                                    <Text text="{CodeClient}" wrapping="false"/>
                                    <Text text="{Client}" wrapping="true"/>
                                    <Text text="{Transporter}" wrapping="false"/>
                                    <Text text="{DescriptionTransporteur}" wrapping="true"/>

                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </VBox>
                <HBox class="bpButtons" justifyContent="SpaceBetween">
                    <Button id="idCustomerDetail" text="INFO CLIENT" press="onDetailDuClient" visible="false" class="orderButton"/>
                    <HBox width="100%"></HBox>
                    <Button id="idSUIVANTButton" text="SUIVANT" press="onNextBP" enabled="false" class="orderButton"/>
                </HBox>
            </VBox>
        </content>
    </Page>
</mvc:View>